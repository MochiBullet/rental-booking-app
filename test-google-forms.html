<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Forms ãƒ†ã‚¹ãƒˆé€ä¿¡</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: 0 auto; }
        .test-info { background: #e8f5e9; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        button { padding: 15px 30px; background: #4caf50; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; }
        button:hover { background: #45a049; }
        .log { background: #f5f5f5; padding: 10px; border-radius: 5px; margin-top: 10px; font-family: monospace; white-space: pre-wrap; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Google Forms ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿é€ä¿¡</h1>
    
    <div class="test-info">
        <h3>ğŸ“‹ é€ä¿¡äºˆå®šã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿</h3>
        <ul>
            <li><strong>å§“:</strong> ç”°ä¸­</li>
            <li><strong>å:</strong> å¤ªéƒ</li>
            <li><strong>ã‚»ã‚¤:</strong> ã‚¿ãƒŠã‚«</li>
            <li><strong>ãƒ¡ã‚¤:</strong> ã‚¿ãƒ­ã‚¦</li>
            <li><strong>ãƒ¡ãƒ¼ãƒ«:</strong> test@example.com</li>
            <li><strong>é›»è©±:</strong> 090-1234-5678</li>
            <li><strong>å…è¨±è¨¼ç•ªå·:</strong> 123456789012</li>
            <li><strong>å…è¨±ç¨®é¡:</strong> æ™®é€šè‡ªå‹•è»Šå…è¨±</li>
            <li><strong>è»Šä¸¡ã‚¿ã‚¤ãƒ—:</strong> è»½è‡ªå‹•è»Šãƒ»ä¹—ç”¨è»Šãƒ»è²¨ç‰©è»Šç­‰</li>
            <li><strong>è¿½åŠ æƒ…å ±:</strong> ãƒ¬ãƒ³ã‚¿ãƒ«å¸Œæœ›æ—¥æ•°: 3æ—¥, å—å–å¸Œæœ›æ—¥: 2025-09-15, å¸Œæœ›è»Šä¸¡: ãƒˆãƒ¨ã‚¿ ã‚¢ã‚¯ã‚¢</li>
        </ul>
    </div>

    <button onclick="sendMinimalData()">ğŸ§ª æœ€å°é™ãƒ‡ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆ</button>
    <button onclick="sendCarData()">ğŸš— è»Šã‚¿ã‚¤ãƒ—ãƒ†ã‚¹ãƒˆ</button>
    <button onclick="sendTestData()">ğŸ“¤ å®Œå…¨ãƒ‡ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆ</button>
    <button onclick="runAllTests()">ğŸ¯ æ®µéšçš„å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
    
    <div id="log" class="log"></div>

    <script>
        function log(message, type = 'info') {
            const logElement = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            const className = type === 'success' ? 'success' : type === 'error' ? 'error' : '';
            logElement.innerHTML += `<div class="${className}">[${timestamp}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
        }

        // æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªé€ä¿¡ãƒ†ã‚¹ãƒˆï¼ˆå¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿ï¼‰
        async function sendMinimalData() {
            log('ğŸ§ª æœ€å°é™ãƒ‡ãƒ¼ã‚¿é€ä¿¡ãƒ†ã‚¹ãƒˆ...');
            
            const formUrl = 'https://docs.google.com/forms/u/0/d/e/1FAIpQLSdM1hGazWWkJJFFbMJBAzl-lEXE20XMtwfO_h-o7hEol8-bpw/formResponse';
            
            // æœ€ã‚‚åŸºæœ¬çš„ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿
            const formData = new FormData();
            
            // è»Šä¸¡ã‚¿ã‚¤ãƒ—ã‚’å…ˆã«è¨­å®šï¼ˆå¿…é ˆã®å¯èƒ½æ€§ãŒé«˜ã„ï¼‰
            formData.append('entry.370718445', 'ãƒã‚¤ã‚¯');
            log('âœ“ è»Šä¸¡ã‚¿ã‚¤ãƒ—: ãƒã‚¤ã‚¯');
            
            // ãƒã‚¤ã‚¯é¸æŠæ™‚ã¯æ’æ°—é‡ã‚‚å¿…è¦ã®å¯èƒ½æ€§
            formData.append('entry.733230829', '125ccä»¥ä¸‹ï¼ˆåŸä»˜äºŒç¨®ï¼‰');
            log('âœ“ ãƒã‚¤ã‚¯æ’æ°—é‡: 125ccä»¥ä¸‹ï¼ˆåŸä»˜äºŒç¨®ï¼‰');
            
            // åŸºæœ¬å€‹äººæƒ…å ±
            formData.append('entry.1280174264', 'ç”°ä¸­');
            formData.append('entry.846732635', 'å¤ªéƒ');
            formData.append('entry.1979973897', 'test@example.com');
            formData.append('entry.1952002308', '090-1234-5678');
            
            log('ğŸ“ æœ€å°é™ã®é€ä¿¡ãƒ‡ãƒ¼ã‚¿:');
            for (let [key, value] of formData.entries()) {
                log(`  ${key}: ${value}`);
            }

            try {
                await fetch(formUrl, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: formData
                });
                log('âœ… æœ€å°é™ãƒ‡ãƒ¼ã‚¿é€ä¿¡å®Œäº†', 'success');
            } catch (err) {
                log(`âŒ é€ä¿¡ã‚¨ãƒ©ãƒ¼: ${err.message}`, 'error');
            }
        }
        
        // è»Šä¸¡ã‚¿ã‚¤ãƒ—åˆ¥ã®ãƒ†ã‚¹ãƒˆ
        async function sendCarData() {
            log('ğŸš— è»Šã‚¿ã‚¤ãƒ—ãƒ‡ãƒ¼ã‚¿é€ä¿¡ãƒ†ã‚¹ãƒˆ...');
            
            const formUrl = 'https://docs.google.com/forms/u/0/d/e/1FAIpQLSdM1hGazWWkJJFFbMJBAzl-lEXE20XMtwfO_h-o7hEol8-bpw/formResponse';
            
            const formData = new FormData();
            
            // è»Šä¸¡ã‚¿ã‚¤ãƒ—: è»Š
            formData.append('entry.370718445', 'è»½è‡ªå‹•è»Šãƒ»ä¹—ç”¨è»Šãƒ»è²¨ç‰©è»Šç­‰');
            log('âœ“ è»Šä¸¡ã‚¿ã‚¤ãƒ—: è»½è‡ªå‹•è»Šãƒ»ä¹—ç”¨è»Šãƒ»è²¨ç‰©è»Šç­‰');
            
            // è»Šã®ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªãŒå¿…è¦ã‹ã‚‚ã—ã‚Œãªã„
            formData.append('entry.976138385', 'è»½è‡ªå‹•è»Š');
            log('âœ“ è»Šã‚«ãƒ†ã‚´ãƒª: è»½è‡ªå‹•è»Š');
            
            // åŸºæœ¬å€‹äººæƒ…å ±
            formData.append('entry.1280174264', 'ä½è—¤');
            formData.append('entry.846732635', 'èŠ±å­');
            formData.append('entry.1979973897', 'hanako@example.com');
            formData.append('entry.1952002308', '080-9876-5432');

            log('ğŸ“ è»Šç”¨é€ä¿¡ãƒ‡ãƒ¼ã‚¿:');
            for (let [key, value] of formData.entries()) {
                log(`  ${key}: ${value}`);
            }

            try {
                await fetch(formUrl, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: formData
                });
                log('âœ… è»Šãƒ‡ãƒ¼ã‚¿é€ä¿¡å®Œäº†', 'success');
            } catch (err) {
                log(`âŒ é€ä¿¡ã‚¨ãƒ©ãƒ¼: ${err.message}`, 'error');
            }
        }

        async function sendTestData() {
            log('ğŸš€ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿é€ä¿¡ã‚’é–‹å§‹ã—ã¾ã™...');
            
            const formUrl = 'https://docs.google.com/forms/u/0/d/e/1FAIpQLSdM1hGazWWkJJFFbMJBAzl-lEXE20XMtwfO_h-o7hEol8-bpw/formResponse';
            
            // ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
            const testData = {
                firstName: 'ç”°ä¸­',
                lastName: 'å¤ªéƒ', 
                firstNamePhonetic: 'ã‚¿ãƒŠã‚«',
                lastNamePhonetic: 'ã‚¿ãƒ­ã‚¦',
                email: 'test@example.com',
                phone: '090-1234-5678',
                licenseNumber: '123456789012',
                licenseType: 'æ™®é€šè‡ªå‹•è»Šå…è¨±',
                vehicleType: 'è»½è‡ªå‹•è»Šãƒ»ä¹—ç”¨è»Šãƒ»è²¨ç‰©è»Šç­‰',
                additionalInfo: 'ãƒ¬ãƒ³ã‚¿ãƒ«å¸Œæœ›æ—¥æ•°: 3æ—¥\nå—å–å¸Œæœ›æ—¥: 2025-09-15\nå¸Œæœ›è»Šä¸¡: ãƒˆãƒ¨ã‚¿ ã‚¢ã‚¯ã‚¢\næ—¥é¡æ–™é‡‘: Â¥8000\nãã®ä»–å‚™è€ƒ: ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§ã™'
            };
            
            // FormDataã‚’ä½œæˆ
            const formDataToSend = new FormData();
            formDataToSend.append('entry.1280174264', testData.firstName); // å§“
            formDataToSend.append('entry.846732635', testData.lastName); // å
            formDataToSend.append('entry.616715639', testData.firstNamePhonetic); // ã‚»ã‚¤
            formDataToSend.append('entry.701002604', testData.lastNamePhonetic); // ãƒ¡ã‚¤
            formDataToSend.append('entry.1979973897', testData.email); // ãƒ¡ãƒ¼ãƒ«
            formDataToSend.append('entry.1952002308', testData.phone); // é›»è©±
            formDataToSend.append('entry.1318842287', testData.licenseNumber); // å…è¨±è¨¼ç•ªå·
            formDataToSend.append('entry.538505772', testData.licenseType); // å…è¨±ç¨®é¡
            formDataToSend.append('entry.370718445', testData.vehicleType); // è»Šä¸¡ã‚¿ã‚¤ãƒ—
            
            // è¤‡æ•°ã®è‡ªç”±è¨˜è¿°æ¬„entry IDã‚’è©¦ã™
            formDataToSend.append('entry.1000000000', testData.additionalInfo);
            formDataToSend.append('entry.2000000000', testData.additionalInfo);
            formDataToSend.append('entry.999999999', testData.additionalInfo);

            log('ğŸ“ é€ä¿¡ãƒ‡ãƒ¼ã‚¿:');
            for (let [key, value] of formDataToSend.entries()) {
                log(`  ${key}: ${value}`);
            }

            // Method 3: éš ã—iframeé€ä¿¡ï¼ˆæœ€ã‚‚ç¢ºå®Ÿãªæ–¹æ³•ï¼‰
            log('ğŸš€ éš ã—iframeé€ä¿¡ã‚’å®Ÿè¡Œ...');
            try {
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.name = 'hidden_iframe_' + Date.now();
                iframe.onload = () => log('ğŸ“„ iframeèª­ã¿è¾¼ã¿å®Œäº†');
                document.body.appendChild(iframe);

                const form = document.createElement('form');
                form.method = 'POST';
                form.action = formUrl;
                form.target = iframe.name;
                form.style.display = 'none';

                // ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‹•çš„ä½œæˆ
                for (let [key, value] of formDataToSend.entries()) {
                    const input = document.createElement('input');
                    input.type = 'hidden';
                    input.name = key;
                    input.value = value;
                    form.appendChild(input);
                }

                document.body.appendChild(form);
                form.submit();
                log('ğŸ“¤ ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å®Ÿè¡Œ');

                // 5ç§’å¾Œã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
                setTimeout(() => {
                    if (document.body.contains(iframe)) document.body.removeChild(iframe);
                    if (document.body.contains(form)) document.body.removeChild(form);
                    log('ğŸ§¹ è¦ç´ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†');
                }, 5000);

                log('âœ… iframeé€ä¿¡å®Œäº†', 'success');
            } catch (err) {
                log(`âŒ iframeé€ä¿¡ã‚¨ãƒ©ãƒ¼: ${err.message}`, 'error');
            }

            log('');
            log('ğŸ‰ é€ä¿¡å®Œäº†ï¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚', 'success');
        }
        
        // æ®µéšçš„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        async function runAllTests() {
            log('ğŸ§ª æ®µéšçš„ãƒ†ã‚¹ãƒˆé–‹å§‹...');
            log('');
            
            // Test 1: æœ€å°é™ã®ãƒ‡ãƒ¼ã‚¿
            await sendMinimalData();
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            log('');
            log('â³ 2ç§’å¾…æ©Ÿ...');
            log('');
            
            // Test 2: è»Šã‚¿ã‚¤ãƒ—ã®ãƒ‡ãƒ¼ã‚¿
            await sendCarData();
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            log('');
            log('â³ 2ç§’å¾…æ©Ÿ...');
            log('');
            
            // Test 3: å®Œå…¨ãªãƒ‡ãƒ¼ã‚¿
            await sendTestData();
            
            log('');
            log('ğŸ å…¨ãƒ†ã‚¹ãƒˆå®Œäº†ï¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§3ã¤ã®ã‚¨ãƒ³ãƒˆãƒªã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚', 'success');
        }
    </script>
</body>
</html>