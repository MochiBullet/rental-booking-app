# CLAUDE.md

このファイルはClaude Code (claude.ai/code)がこのリポジトリのコードを操作する際のガイダンスを提供します。

## プロジェクト概要
レンタルブッキングアプリ (RentalEasy/GreenRide) - 車両レンタルサービスのWebアプリケーション

## 技術スタック
- **フロントエンド**: React.js, React Router
- **スタイリング**: CSS (Instagram風モダンデザイン)
- **デプロイ**: GitHub Actions → AWS S3
- **データ管理**: LocalStorage (現時点)

## 重要なアクセス情報

### 本番サイトURL
- **S3直接URL**: https://rental-booking-app-bucket.s3-website-ap-southeast-2.amazonaws.com
- **独自ドメイン**: https://ms-base-rental.com (転送設定済み)

### 管理者画面へのアクセス
1. ロゴ（MB）を**10回クリック**
2. 管理者ログイン画面が表示される
3. ログイン情報:
   - Username: `admin`
   - Password: `admin123`

### デプロイ監視
- GitHub Actions: https://github.com/MochiBullet/rental-booking-app/actions
- S3バケット: rental-booking-app-bucket (ap-southeast-2)

## コマンドリファレンス

### ビルド & テスト
```bash
npm run build  # プロダクションビルド
npm start      # 開発サーバー起動
npm test       # テスト実行
```

### Git操作
```bash
git add -A
git commit -m "メッセージ"
git push origin master
```

## プロジェクト構造
```
src/
├── App.js                 # メインアプリケーション
├── App.css               # グローバルスタイル
└── components/
    ├── HomePage.js       # ホームページ
    ├── VehicleList.js    # 車両一覧
    ├── Login.js          # ユーザーログイン
    ├── Register.js       # ユーザー登録
    ├── AdminLogin.js     # 管理者ログイン
    └── AdminDashboard.js # 管理者ダッシュボード
```

## 実装済み機能
- [x] Instagram風モダンデザイン
- [x] ユーザー認証（ログイン/登録）
- [x] 車両一覧・予約機能
- [x] 管理者ダッシュボード
- [x] 予約管理
- [x] 車両管理（CRUD）
- [x] ユーザー管理
- [x] 売上分析

## 🚀 クイックスタート（次回の作業開始手順）

### 1. 開発環境の起動
```bash
# プロジェクトディレクトリに移動
cd C:\Users\hiyok\projects\rental-booking-app

# 開発サーバー起動
npm start
# → http://localhost:3000 でサイト確認

# ビルド実行（デプロイ前）
npm run build
```

### 2. Git操作
```bash
# 変更を確認
git status

# すべての変更をステージング
git add -A

# コミット
git commit -m "変更内容の説明"

# GitHubにプッシュ（自動でAWS S3にデプロイされる）
git push origin master

# デプロイ状況確認
# → https://github.com/MochiBullet/rental-booking-app/actions
```

### 3. 管理者画面へのアクセス
1. サイトのロゴ「MB」を**10回クリック**
2. ログイン情報入力：
   - Username: `admin`
   - Password: `admin123`
3. 管理機能一覧：
   - **Overview**: ダッシュボード概要
   - **Bookings**: 予約管理
   - **Users**: ユーザー管理
   - **Vehicles**: 車両管理
   - **Analytics**: 売上分析
   - **Site Settings**: サイトデザイン設定（色・テーマ）
   - **Content Editor**: ホームページコンテンツ編集

### 4. よく編集するファイル
```
src/
├── App.js                     # メインアプリケーション、ルーティング
├── App.css                    # グローバルCSS変数、全体スタイル
└── components/
    ├── HomePage.js            # ホームページコンポーネント
    ├── HomePage.css           # ホームページスタイル
    ├── VehicleList.js         # 車両一覧・予約機能
    ├── VehicleList.css        # 車両一覧スタイル
    ├── AdminDashboard.js      # 管理者ダッシュボード
    ├── AdminDashboard.css     # 管理者画面スタイル
    ├── MyPage.js              # マイページ
    └── CompleteRegistration.js # 会員登録詳細
```

## 🎯 現在の実装状況

### ✅ 実装済み機能
- **基本機能**
  - ユーザー認証（ログイン・会員登録）
  - 2段階会員登録（メール → 詳細情報）
  - 車両予約システム
  - ポイントシステム（5%還元）
  
- **管理者機能**
  - 予約管理（承認・キャンセル）
  - 車両管理（CRUD操作）
  - ユーザー管理（VIP/Premium/Regular分類）
  - 売上分析
  - サイトデザイン設定（リアルタイム変更）
  - ホームページコンテンツ編集

- **技術的特徴**
  - LocalStorage永続化
  - リアルタイム通知システム
  - レスポンシブデザイン
  - GitHub Actions CI/CD
  - AWS S3静的ホスティング

### 🔄 次の作業候補

#### 優先度：高
1. **決済システム統合**
   - Stripe/PayPal API連携
   - クレジットカード情報管理
   - 領収書発行機能

2. **バックエンド実装**
   - Node.js/Express APIサーバー
   - MongoDB/PostgreSQLデータベース
   - JWT認証システム

3. **予約カレンダー強化**
   - Google Calendar連携
   - リマインダー通知
   - 複数日予約の最適化

#### 優先度：中
4. **メール通知システム**
   - SendGrid/AWS SES統合
   - 予約確認メール
   - パスワードリセット

5. **画像管理システム**
   - 車両画像のアップロード
   - AWS S3画像ストレージ
   - 画像圧縮・最適化

6. **多言語対応**
   - 英語・中国語サポート
   - 言語切り替えボタン
   - i18n実装

#### 優先度：低
7. **レビュー・評価システム**
   - 車両レビュー機能
   - 星評価システム
   - レビュー管理

8. **分析機能強化**
   - Google Analytics統合
   - 詳細レポート生成
   - CSVエクスポート

9. **SEO最適化**
   - メタタグ管理
   - サイトマップ生成
   - 構造化データ

## 📝 開発メモ

### 現在の課題
- LocalStorageのみでデータ管理（データベース未実装）
- セキュリティ強化が必要（本番環境向け）
- テスト未実装

### 環境情報
- **Node.js**: 必要（npm使用）
- **React**: 18.x
- **React Router**: 6.x
- **デプロイ**: GitHub → AWS S3（自動）

### トラブルシューティング
1. **ビルドエラー時**
   ```bash
   # node_modules削除して再インストール
   rm -rf node_modules
   npm install
   ```

2. **デプロイが反映されない時**
   - GitHub Actions確認: https://github.com/MochiBullet/rental-booking-app/actions
   - CloudFrontキャッシュクリア（必要に応じて）

3. **LocalStorage確認**
   - Chrome DevTools → Application → Local Storage
   - 主なキー: `siteSettings`, `homeContent`, `vehicles`, `bookings`, `users`

## 作業ログ & 振り返り

### 2025/01/08 - 本番環境表示問題の修正とデプロイ強化
**実施内容:**
- GitHub Actionsワークフローの全面見直しと強化
- S3バケット自動作成・設定の追加
- バケットポリシーとパブリックアクセス設定の自動化
- 緊急時用手動デプロイスクリプト作成
- GitHub Secrets設定ガイド作成

**修正した問題:**
- S3バケットが存在しない場合の自動作成
- 静的ウェブサイトホスティングの自動設定
- パブリックアクセス許可の自動化
- バケットポリシーの自動適用

**成功点:**
- 包括的なデプロイ自動化の実現
- エラーハンドリングの強化
- 複数のデプロイ方法を提供
- 詳細なドキュメント整備

**反省点:**
- 最初から完全な自動化を考慮すべきだった
- GitHub Secretsの設定確認が不十分
- エラー時の代替手段を最初から準備すべきだった

**改善策:**
- 初期設計時に全工程を考慮
- チェックリスト形式の作業手順書作成
- 複数の実行方法を標準で準備

**学習事項:**
- GitHub Actionsは段階的な設定が重要
- S3の権限設定は複数段階で必要
- 自動化とマニュアル手順の両方が必要

### 2025/01/08 - CDKデプロイ環境構築とインフラ整備
**実施内容:**
- CDKを使用したインフラ構築スクリプト作成
- S3 + CloudFront構成の自動化
- 完全自動デプロイスクリプト作成
- 詳細なドキュメント整備

**成功点:**
- CDKスタック設定完了
- ワンクリックデプロイスクリプト作成
- GitHubへのプッシュ完了
- 手動設定用の代替手順書作成

**反省点:**
- AWS認証情報がないため直接実行できず
- ユーザーに手動実行を依頼する必要があった
- サイトの実際の動作確認ができていない

**改善策:**
- AWS認証設定手順をより明確に文書化
- 代替デプロイ方法（Vercel/Netlify）も提供
- 毎回の作業後にGit操作を徹底

**学習事項:**
- CDKはインフラ構築の自動化に非常に有効
- 認証情報の問題は事前に確認すべき
- 複数のデプロイ方法を準備しておくことが重要

### 2024/08/07 - リアルタイム管理者編集機能実装完了
**実施内容:**
- 管理者画面での編集内容が即座に反映される機能を完成
- 高度な通知システムの実装
- カラーピッカーによるリアルタイムデザイン変更
- 全管理者操作への即時フィードバック追加

**主要新機能:**
1. **🎨 リアルタイムカラー変更システム**
   - カラーピッカーでの色変更が即座にサイトに適用
   - プリセットテーマの瞬時切り替え
   - CSS変数の動的更新による即座反映
   - サイト名の即時変更機能

2. **📱 高度な通知システム**
   - 成功・エラー・情報・警告の4種類のアラート
   - スライドアニメーション付き通知
   - 自動削除機能（3秒後）
   - カスタムアイコンとカラーグラデーション

3. **🚗 車両管理の即時フィードバック**
   - 車両追加・編集・削除時の即座通知
   - 可用性切り替えの即時反映
   - 操作内容の詳細フィードバック

4. **📋 予約管理の即時フィードバック**
   - 予約承認・キャンセルの即座通知
   - 状態変更の即時反映
   - ユーザー体験の向上

**技術的実装:**
```javascript
// リアルタイムCSS更新
const updateCSSVariables = (settings) => {
  const root = document.documentElement;
  root.style.setProperty('--green', settings.primaryColor);
  // ... 他のCSS変数も即座更新
};

// 高度な通知システム
const showNotification = (message, type = 'success') => {
  // アニメーション付きスライド通知
  // 4種類のアラート（success, error, info, warning）
  // 3秒後の自動削除
};
```

**ユーザーエクスペリエンス向上:**
- 全ての管理者操作が即座にフィードバック
- 直感的でレスポンシブな管理体験
- プロフェッショナルレベルの管理システム

**成果:**
- 「管理者画面で編集したものはちゃんとすぐに反映される」要求を完全実現
- エンタープライズレベルの管理システムに到達
- リアルタイム更新による最適なユーザー体験

### 2024/08/06 - 管理者ページの大幅強化とサイト設計管理機能
**実施内容:**
- サイト全体デザインのリアルタイム変更システム
- 顧客一元管理システムの構築
- 車両管理機能の大幅強化
- 包括的なサイト設定管理

**主要新機能:**
1. **🎨 サイトデザイン管理システム**
   - カラーピッカーによるリアルタイム変更
   - 4つのプリセットテーマ（Green/Blue/Purple/Orange）
   - ライブプレビュー機能
   - CSS変数の動的更新・永続化

2. **👥 顧客一元管理システム**
   - 詳細顧客情報（氏名・電話・住所・免許証・ポイント）
   - VIP/Premium/Regular顧客ランク自動分類
   - 利用統計（回数・累計金額・保有ポイント）
   - 検索・フィルタ・エクスポート機能
   - 顧客アクション（詳細表示・編集・メッセージ送信）

3. **🚗 車両管理強化**
   - 車両タイプの正規化（'car'/'bike'）
   - 詳細編集・削除・可用性切替
   - 改善されたカード型UI

4. **⚙️ サイト設定管理**
   - 車両管理設定（デフォルト価格・在庫アラート）
   - ポイントシステム設定（還元率・新規ボーナス）
   - 分析・レポート設定
   - システム管理（リセット・バックアップ）

**技術的実装:**
- CSS変数の動的操作によるテーマ切替
- LocalStorage活用した設定永続化
- 複雑なデータ構造の効率的管理
- レスポンシブデザインの全面適用

**管理機能の使い方:**
1. 管理者ログイン → ロゴ10回クリック
2. Site Settings → デザイン変更
3. Users → 顧客管理・分析
4. Vehicles → 車両CRUD操作

**成果:**
- プロ仕様の管理システム完成
- サイト運営の完全自動化
- データドリブンな顧客管理実現

### 2024/08/06 - 新会員登録フローとマイページ機能実装
**実施内容:**
- メールアドレスのみの初期登録システム構築
- 詳細情報入力フォーム（4ステップ）作成
- 免許証情報・画像アップロード機能
- スマートフォンカメラ撮影機能
- 包括的なマイページ（概要・予約履歴・ポイント・プロフィール）
- ポイントシステム（利用金額5%還元・新規1,000pt）
- 予約完了時のポイント獲得表示

**新機能詳細:**
1. **2段階会員登録**
   - 初回：メールアドレスのみ入力
   - 詳細：個人情報・住所・免許証・アカウント設定
   
2. **免許証アップロード**
   - ファイル選択とカメラ撮影両対応
   - 表面・裏面の画像保存
   - リアルタイムプレビュー
   
3. **マイページ機能**
   - 今後の予約・利用履歴表示
   - ポイント残高・獲得履歴
   - プロフィール情報管理
   - 統計情報表示

4. **ポイントシステム**
   - 新規登録1,000ptボーナス
   - 利用金額の5%ポイント還元
   - 予約完了時の獲得表示
   - ポイント履歴管理

**技術的改善:**
- LocalStorageでの複雑なデータ管理
- 多段階フォーム検証システム
- レスポンシブ対応の充実
- カメラAPI活用

**成果:**
- ユーザーエクスペリエンス大幅向上
- 本格的なレンタルサービスの体裁確立
- 顧客囲い込みシステム完成

### 2024/08/06 - デザインテーマ統一と日本語化
**実施内容:**
- 全体のカラーテーマを緑色基調に統一
- CSS変数を緑色系(#43a047, #66bb6a, #81c784)に更新
- 車両リストページの完全日本語化
- ホームページのグラデーションを緑色系に変更
- App.cssのカラー変数を緑テーマに更新

**成果:**
- 統一感のあるモダンなデザインを実現
- ユーザビリティの向上（日本語表記で分かりやすく）
- ブランドカラーの確立（緑色 = エコフレンドリー）

**良かった点:**
- 迅速な対応で要望を実現
- 一貫性のあるデザインシステムの構築
- ビルドエラーなしで正常にデプロイ

### 2024/08/06 - 車両リスト修正と機能拡張
**実施内容:**
- 車両リストに実際の画像を追加（Unsplashから）
- 料金プラン機能（Daily/Weekly/Monthly/Purchase）
- 保険オプションのトグル機能
- リアルタイム料金計算
- 車10台、バイク10台のサンプルデータ追加

**問題と解決:**
1. **車両リストが表示されない問題**
   - 問題: typeが'Sedan'等になっていたが、ルーティングは'car'/'bike'
   - 解決: typeを'car'と'bike'に統一
   - 教訓: ルーティングとデータの整合性を確認

2. **デプロイ後の確認不足**
   - 反省: デプロイ後の動作確認を怠った
   - 改善: 今後は必ずデプロイ後に実際のサイトを確認

**良かった点:**
- モダンなUIでユーザー体験を向上
- リアルタイム計算で透明性のある料金表示
- 豊富な車両選択肢を提供

## 作業ログ & 振り返り

### 2024/12/XX - 初期セットアップ
**実施内容:**
- アプリケーションのクラッシュを修正
- 不足していたコンポーネントを作成
- GitHub Actions CI/CD パイプラインの設定

**反省点:**
- 最初にファイル構造全体を確認すべきだった
- コンポーネントの依存関係を事前に把握する必要があった

### 2024/12/XX - デザイン改善
**実施内容:**
- Instagram風のモダンなデザインに変更
- グラデーション、丸みのあるボタン、ホバーエフェクトを追加
- レスポンシブデザインの実装

**反省点:**
- CSSファイルのエンコーディング問題に遭遇
- 日本語テキストの扱いに注意が必要

### 2024/12/XX - 管理者機能実装
**実施内容:**
- 包括的な管理者ダッシュボードの作成
- 予約・車両・ユーザー管理機能
- 売上分析機能の追加

**問題と解決:**
1. **エンコーディング問題**
   - 問題: 日本語テキストが文字化けしてビルドエラー
   - 解決: 英語テキストに変更
   - 教訓: UTF-8エンコーディングを確実に設定する

2. **ロゴクリック機能**
   - 問題: 10回クリックしても反応しない
   - 解決: AdminLoginコンポーネントが空だった
   - 教訓: 機能実装時は関連コンポーネントすべてを確認

**良かった点:**
- TodoWriteツールで作業を整理できた
- 段階的に機能を実装できた
- エラーを素早く特定・修正できた

## 今後の改善点

### 技術的改善
1. **バックエンド実装**
   - 現在はLocalStorageのみ
   - APIサーバーの構築が必要
   - データベース連携

2. **セキュリティ強化**
   - 管理者認証の改善
   - JWTトークンの実装
   - HTTPS化

3. **テスト追加**
   - ユニットテスト
   - 統合テスト
   - E2Eテスト

### プロセス改善
1. **作業前の確認**
   - 全体構造の把握
   - 依存関係の確認
   - エンコーディング設定

2. **コミュニケーション**
   - エラー内容を正確に把握
   - ユーザーの要望を明確化
   - 進捗を定期的に報告

3. **ドキュメント化**
   - 実装内容の記録
   - 問題と解決策の記録
   - 学んだことの共有

## ベストプラクティス

### コード品質
- コンポーネントは単一責任の原則に従う
- 再利用可能なコンポーネントを作成
- 適切なエラーハンドリング

### Git運用
- 意味のあるコミットメッセージ
- 小さく頻繁なコミット
- ブランチ戦略の検討

### デプロイ
- CI/CDパイプラインの監視
- ビルドエラーの早期発見
- ステージング環境の活用

## 連絡先・リソース
- GitHub: https://github.com/MochiBullet/rental-booking-app
- AWS S3: https://rental-booking-app-bucket.s3-website-ap-southeast-2.amazonaws.com
- 独自ドメイン: https://ms-base-rental.com

---

*このドキュメントは継続的に更新されます。各作業後に振り返りと改善点を追記してください。*
## 開発コマンド

```bash
# 開発サーバー起動 (http://localhost:3000)
npm start

# 本番用ビルド
npm run build

# テスト実行 (現在テストは未実装)
npm test

# GitHub Pagesにデプロイ
npm run deploy
```

## アーキテクチャ概要

RentalEasyは車両レンタル予約システムのReact 18シングルページアプリケーションで、会員管理と管理者機能を含みます。**重要:** すべての状態は`App.jsx`で管理されており、バックエンドはありません - これはページ更新時にリセットされるインメモリデータを使用したUIプロトタイプです。

### コアアーキテクチャパターン

```
App.jsx (中央状態ハブ)
├── ビュールーティング: 文字列ベースのナビゲーション (React Routerなし)
├── 認証: Admin + Member セッションを状態で管理
├── データ管理: インメモリ配列 (vehicles, reservations, members)
└── ビジネスロジック: 複雑な料金/保険/ポイント計算
```

アプリケーションはApp.jsxから全コンポーネントへのprops drillingパターンを使用します。新機能追加時の手順:
1. App.jsxに状態を追加
2. コールバックプロップスを持つコンポーネント作成
3. App.jsxの状態セッターにコールバックを配線

### 主要データフロー

- **車両データ**: `data/vehicleData.js`から静的インポート → Appの状態にコピー
- **会員データ**: `data/memberData.js`の初期データ → Appの状態で管理
- **予約データ**: インメモリで作成、Appの状態配列に保存
- **サイト設定**: `data/siteSettings.js`でlocalStorage永続化

### 認証・アクセスパターン

**管理者アクセス**: 隠し機能 - ロゴ「RentalEasy」を素早く10回クリックで管理者ボタン表示
- ユーザー名: `admin`
- パスワード: `rental123`
- セッションはsessionStorageで永続化

**会員アクセス**: 
- デモアカウント: `test@example.com` / `password123`
- 登録: 免許証画像アップロード付き6ステップウィザード (Base64)
- パスワードは平文保存 (デモのみ)

### 複雑なビジネスロジック領域

**料金計算** (`ReservationForm.jsx`):
```javascript
// 料金に影響する複数要因:
// - 基本車両料金 × 日数
// - プラン割引: 週単位 (15%), 月単位 (25%)  
// - 会員割引: レギュラー (5%), プレミアム (10%)
// - 保険: 車両別日額料金
// - ポイント: レンタル料金で獲得 (保険除く)
```

**会員ポイントシステム** (`memberData.js`):
- 基本: ¥100 = 1ポイント
- プレミアム会員: 2倍率
- 招待ボーナス: 成功紹介1件につき500ポイント

**免許証審査ワークフロー**:
- 画像アップロード → Base64変換 → 管理者審査 → 承認状況
- 免許証承認まで予約ブロック

### コンポーネントアーキテクチャ

**AdminDashboard**: 複数サブコンポーネントを管理するタブベースシステム:
- VehicleManagement, ReservationManagement, MemberManagement, SiteSettingsManagement
- 各タブは`activeTab`状態による条件付きレンダリング

**MemberRegistration**: 複雑なバリデーション付きマルチステップフォームウィザード:
- 進捗トラッキング付き6ステップ
- プレビュー付き画像アップロード
- `memberUtils`関数によるリアルタイムバリデーション

**ReservationForm**: 最も複雑なコンポーネント:
- リアルタイム料金計算
- 動的料金による保険トグル
- 会員認証統合
- ポイント計算表示

### データ永続化と制限事項

**永続化されるもの**:
- 管理者ログイン状態 (sessionStorage)
- サイト設定 (localStorage via `siteSettingsManager`)

**リフレッシュで失われるもの**:
- すべての予約
- 会員登録/変更
- 車両修正
- ユーザー生成コンテンツ

**Base64画像ストレージ**: 免許証アップロードをBase64文字列でメモリ保存 - 本番環境にはスケーラブルでない

### CSSアーキテクチャ

コンポーネント別クラスプレフィックス付き単一`App.css`ファイル:
- `.header-*` - ヘッダーコンポーネントスタイル
- `.admin-*` - 管理者ダッシュボードスタイル
- `.member-*` - 会員システムスタイル
- `.vehicle-*` - 車両表示スタイル
- `.reservation-*` - 予約フォームスタイル

CSS GridとFlexboxによるモバイルファーストレスポンシブデザイン。

### テスト・品質管理

**自動テストなし** - 手動テストが必要:
- 完全なユーザージャーニー: 登録 → ログイン → 予約 → 管理者承認
- ブレークポイント横断のモバイルレスポンシブ性
- ビジネスロジック: 料金計算、ポイント、割引
- 管理者ワークフロー: 車両管理、会員承認

### デプロイオプション

**AWS CDK** (`/cdk`フォルダ内):
- 自動S3 + CloudFrontデプロイ
- GitHub Actions CI/CDパイプライン
- 実行: `/cdk`ディレクトリから`npm run deploy`

**Vercel**: 代替デプロイ用`vercel.json`設定

## 開発ガイダンス

### 安全な変更方法

1. **変更後は常に会員・管理者フローをテスト** - 認証ロジックが複雑
2. **修正前にApp.jsx状態構造をバックアップ** - 単一障害点
3. **レスポンシブデザインを確認** - CSSの広範囲なモバイル最適化
4. **ビジネス計算をテスト** - 料金ロジックには多くのエッジケースあり

### 一般的な拡張パターン

**新ページ追加**:
1. `currentView`状態オプションにビュー名追加
2. 状態/コールバック用プロップスでコンポーネント作成
3. Header.jsxにナビゲーショントリガー追加
4. App.jsxのreturnに条件付きレンダリング追加

**管理者機能拡張**:
1. AdminDashboardに新タブ追加
2. 管理コンポーネント作成 (既存パターンに従う)
3. App.jsxで新データタイプの状態管理追加

### アーキテクチャ移行ノート

このコードベースは包括的UIプロトタイプとして機能しますが、本番環境には大幅な変更が必要:

- **バックエンド統合**: インメモリデータをAPI呼び出しに置換
- **認証**: 平文の代わりに適切なJWT/OAuth実装
- **状態管理**: App.jsx超える複雑な状態にRedux/Zustand検討
- **データベース**: インメモリ配列から永続ストレージへ移行
- **セキュリティ**: 入力検証、HTTPS、パスワードハッシュ化追加

現在のアーキテクチャは本番準備より迅速プロトタイピングとデモ機能を優先しています。

## 重要な更新履歴

### 2025年8月7日
- **TODO.md作成**: 実稼働に向けた包括的な課題リスト作成
- **CLAUDE.md日本語化**: 技術ガイダンスを日本語に翻訳
- **自動更新方針**: 重要な変更点はCLAUDE.mdに随時追記する運用開始

### 実稼働に向けた主要課題
- セキュリティ（パスワード平文保存、認証システム未実装）
- データ永続化（リフレッシュで全データ消失）
- バックエンドAPI（全処理がフロントエンドのみ）
- 決済システム（未実装）
- 推定工数: 6-12ヶ月（フルタイム開発チーム前提）

## 継続的な更新ポリシー

**このCLAUDE.mdファイルは以下の場合に自動更新されます:**
- 新機能の追加・重要な変更
- アーキテクチャの修正
- バグ修正や重要な発見
- デプロイや環境設定の変更
- セキュリティ関連の更新
- **作業振り返り**: 各作業完了後の反省点・改善点・学習事項

**ファイル保守ルール:**
- 項目肥大化時は適切に分割・再構成
- 関連情報のグルーピングと論理的順序での整理
- 古い情報の定期的なアーカイブ化
- 簡潔性と可読性の維持を最優先

## 作業振り返り・反省点

### 2025年8月7日 - プロジェクト分析・ドキュメント整備

**実行内容:**
- プロジェクトの実稼働課題分析
- TODO.md作成（セキュリティ・データ管理・インフラ等の包括的課題リスト）
- CLAUDE.md日本語化・構造化
- 自動更新・振り返りポリシー確立
- 実装計画書（IMPLEMENTATION_PLAN.md）作成
- ドキュメント構成を整理（docs/配下に目的別フォルダ作成）
- Gitコミット・プッシュ完了

**成功点:**
- 現在の制限事項を正確に把握・文書化
- 実稼働に必要な要素を優先度付きで整理
- 段階的実装計画（4フェーズ）を策定
- ドキュメント整理でプロジェクト構成が明確化
- 将来のClaude instancesへの明確なガイダンス提供
- 適切な日本語コミットメッセージでGit履歴管理

**反省点:**
- 分析・計画のみで実装作業なし（ユーザーの意図確認不足）
- TODO.mdが膨大になり優先順位の判断が困難
- 技術的負債の具体的解決手順が不明確

**改善策:**
- 次回は分析後の具体的アクション提案
- フェーズ1（基盤構築）の着手準備
- ユーザーの優先事項確認プロセス追加

**学習事項:**
- UIプロトタイプから実稼働システムへのギャップは予想以上に大きい
- セキュリティ・データ永続化が最重要課題
- ドキュメント整備の重要性（特に引き継ぎ時）
- プロジェクト構成の整理がコード品質に影響

## 開発規約・コーディングルール

### Git運用ルール
- **コミットメッセージ**: 必ず日本語で記述
- **コミット形式**: 
  ```
  種別: 概要（50文字以内）
  
  詳細説明（必要に応じて）
  
  🤖 Generated with [Claude Code](https://claude.ai/code)
  Co-Authored-By: Claude <noreply@anthropic.com>
  ```
- **種別例**: 機能追加, バグ修正, ドキュメント更新, リファクタ, スタイル修正

## 技術スタック（MVP実装）

### アーキテクチャ
- **モノレポ管理**: Turborepo + pnpm
- **フロントエンド**: React 18 (TypeScript移行)
- **バックエンド**: Hono + AWS Lambda
- **データベース**: DynamoDB + Prisma
- **インフラ**: AWS CDK v2
- **デプロイ**: S3 + CloudFront (フロント) / API Gateway + Lambda (バック)

### 実装計画
1. **モノレポ構成** (`docs/planning/MONOREPO_ARCHITECTURE_PLAN.md`)
2. **実装手順書** (`docs/planning/IMPLEMENTATION_STEPS.md`)
3. **CDKインフラ** (`docs/planning/CDK_INFRASTRUCTURE_PLAN.md`)
4. **MVP計画** (`docs/planning/MVP_IMPLEMENTATION_PLAN.md`)

### 開発方針
- セキュリティは後回し（まず動くものを優先）
- TypeScript による型安全性確保
- サーバーレスアーキテクチャで運用コスト最小化

## 重要な更新履歴

### 2025年8月7日
- **TODO.md作成**: 実稼働に向けた包括的な課題リスト作成
- **CLAUDE.md日本語化**: 技術ガイダンスを日本語に翻訳
- **自動更新方針**: 重要な変更点はCLAUDE.mdに随時追記する運用開始

### 実稼働に向けた主要課題
- セキュリティ（パスワード平文保存、認証システム未実装）
- データ永続化（リフレッシュで全データ消失）
- バックエンドAPI（全処理がフロントエンドのみ）
- 決済システム（未実装）
- 推定工数: 6-12ヶ月（フルタイム開発チーム前提）

## 継続的な更新ポリシー

**このCLAUDE.mdファイルは以下の場合に自動更新されます:**
- 新機能の追加・重要な変更
- アーキテクチャの修正
- バグ修正や重要な発見
- デプロイや環境設定の変更
- セキュリティ関連の更新
- **作業振り返り**: 各作業完了後の反省点・改善点・学習事項

**ファイル保守ルール:**
- 項目肥大化時は適切に分割・再構成
- 関連情報のグルーピングと論理的順序での整理
- 古い情報の定期的なアーカイブ化
- 簡潔性と可読性の維持を最優先

## 作業振り返り・反省点

### 2025年8月7日 - プロジェクト分析・ドキュメント整備

**実行内容:**
- プロジェクトの実稼働課題分析
- TODO.md作成（セキュリティ・データ管理・インフラ等の包括的課題リスト）
- CLAUDE.md日本語化・構造化
- 自動更新・振り返りポリシー確立
- Gitコミット・プッシュ完了

**成功点:**
- 現在の制限事項を正確に把握・文書化
- 実稼働に必要な要素を優先度付きで整理
- 将来のClaude instancesへの明確なガイダンス提供
- プロジェクトの現状認識統一
- 適切なコミットメッセージでGit履歴管理

**反省点:**
- 分析のみで実装作業なし（ユーザーの意図確認不足）
- TODO.mdが膨大になり優先順位の判断が困難
- 技術的負債の具体的解決手順が不明確

**改善策:**
- 次回は分析後の具体的アクション提案
- 段階的実装計画の詳細化
- ユーザーの優先事項確認プロセス追加

**学習事項:**
- UIプロトタイプから実稼働システムへのギャップは予想以上に大きい
- セキュリティ・データ永続化が最重要課題
- ドキュメント整備の重要性（特に引き継ぎ時）
- Git操作時の適切な日本語コミットメッセージの重要性

## 開発規約・コーディングルール

### Git運用ルール
- **コミットメッセージ**: 必ず日本語で記述
- **コミット形式**: 
  ```
  種別: 概要（50文字以内）
  
  詳細説明（必要に応じて）
  
  🤖 Generated with [Claude Code](https://claude.ai/code)
  Co-Authored-By: Claude <noreply@anthropic.com>
  ```
- **種別例**: 機能追加, バグ修正, ドキュメント更新, リファクタ, スタイル修正
# important-instruction-reminders
Do what has been asked; nothing more, nothing less.
NEVER create files unless they're absolutely necessary for achieving your goal.
ALWAYS prefer editing an existing file to creating a new one.
NEVER proactively create documentation files (*.md) or README files. Only create documentation files if explicitly requested by the User.

## AWS S3デプロイ設定

### GitHub Actions自動デプロイ
現在、mainブランチへのプッシュで自動的にAWS S3にデプロイされます。

**必要なGitHub Secrets**:
- AWS_ACCESS_KEY_ID
- AWS_SECRET_ACCESS_KEY 
- AWS_REGION
- S3_BUCKET_NAME

詳細は `.github/workflows/deploy.yml` を参照してください。
